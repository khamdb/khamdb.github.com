<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<title>Example 5 - Updating a region using the Javascript API</title>
<script type="text/javascript" src="../../dist/js/jquery-1.3.1.js"></script>
</head>
<body>
<script type="text/javascript" src="../../dist/js/flowplayer.min.js"></script>
<script type="text/javascript" src="../../dist/js/ova-examples.js"></script>
<style type="text/css">
<!--
  @import url(../../dist/css/global.css);
-->
</style>
<h2>Example 5 - Updating a region using the Javascript API</h2>
<p class="example">
This example illustrates how the styling of a region may be updated dynamically using
the OAS Javascript setRegionStyle() API. A region called "updatable-region" has been declared
in this example and you can use the text box below the player to dynamically change
the styling of that region. We've made the region background light grey by default
with a standard piece of text so to help illustrate how you can modify the region
styling.
</p>
<br/>
<div id="container">
  <div id="player_row">
     <div id="player-left-345">
        <a class="player614x345"></a>
     </div>
     <div id="player-right-345">
         <form>
             <textarea cols="20" rows="10" id="cssTextArea">.smalltext { font-style: italic; font-size:10; }
             </textarea>
             <br/>
             <br/>
			 <button type="button" id="viewTemplateButton" enabled onClick="javascript:updateStyleSheet();">
				Update Stylesheet Values
			 </button>
			 <button type="button" id="viewTemplateButton" enabled onClick="javascript:replaceStyleSheet();">
				Replace Stylesheet With Values
			 </button>
		</form>
     </div>
  </div>
</div>
<script type="text/javascript">
var player = flowplayer("a.player614x345", FP_SWF_2, {
    plugins: {	    
        controls: {
            autoHide: "always"
        },

        ova: {
            url: OVA_OAS_URL_2,

			"canFireAPICalls": true,

            "debug": {
                "levels": OVA_OAS_DEBUG
            },

            "shows": {
                "streams": [ 
                    { 
                        "file":OVA_HTTP_SHOW_STREAM_1, 
                        "duration":"00:00:30" 
                    } 
                ]
            },

            "overlays": {
                "regions": [
                    {
                        "id": "updatable-region",
                        "verticalAlign": "bottom",
                        "horizontalAlign": "center",
                        "backgroundColor": "transparent",
                        "width": "100pct",
                        "height": 40,
                        "style": ".smalltext { font-style: italic; font-size:10; }"
                    }
                ]
            },
            
            "ads": {
                "pauseOnClickThrough": true,
                "servers": [
                    {
                        "type": "OpenX",
                        "apiAddress": OVA_OPENX_API
                    }
                ],
                "schedule": [
                    {
                        "zone": "blank",
                        "position": "updatable-region",
                        "startTime": "00:00:00",
                        "duration": "30"
                    }
                ]
            }
        }
    }
});

function updateStyleSheet() {
    player.start();
	return true;
}

function replaceStyleSheet() {
    player.stop();
	return true;
}
</script>
<p>
The configuration for this example is:
</p>
<div class="codebox">
<pre>
<code class="javascript">
flowplayer("a.example", "<script type="text/javascript">document.write(FP_SWF_2)</script>", {
    plugins: {
        controls: {
            autoHide: "always"
        },

        ova: {
            url: "<script type="text/javascript">document.write(OVA_OAS_URL_2)</script>",

            "canFireAPICalls": true,

            "debug": {
                "levels": "<script type="text/javascript">document.write(OVA_OAS_DEBUG)</script>"
            },

            "ads": {
                "pauseOnClickThrough": true,
                "servers": [
                   {
                       "type": "OpenX",
                       "apiAddress": "<script type="text/javascript">document.write(OVA_OPENX_API)</script>"
                   }
                ],
                "schedule": [
                    {
                       "zone": "5",
                       "position": "pre-roll"
                    }
                 ]
             }
         }
     }
});
</code>
</pre>
</div>
</body>
</html>
