<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<title>Example 5 - Delivering mixed MP4/FLV streams and ads</title>
<script type="text/javascript" src="../../../dist/js/jquery-1.3.1.js"></script>
</head>
<body>
<script type="text/javascript" src="../../../dist/js/flowplayer.min.js"></script>
<script type="text/javascript" src="../../../dist/js/ova-jquery.js"></script>
<script type="text/javascript" src="../../../dist/js/ova-examples.js"></script>
<style type="text/css">
<!--
  @import url(../../../dist/css/global.css);
-->
</style>
<h2>Example 5 - Delivering mixed MP4/FLV streams and ads</h2>
<p class="example">
This example demonstrates the delivery of a mixture of FLV and MP4 streams
and ads. By default, the streamType config parameter is set to "any" so
it does not need to be specified. Two shows streams will play - an MP4
first, then an FLV. Each show stream will play an ad that will either be
an FLV or MP4 linear ad.
</p>
<a class="example"></a>

<script type="text/javascript">
flowplayer("a.example", FP_SWF, {
    plugins: {
        rtmp: {
            url: FP_RTMP_SWF
        },
        rtmpInstream: {
            url: FP_RTMP_SWF
        },
        controls: {
            autoHide: "always"
        },

        ova: {
            url: OVA_OAS_URL,

            "shows": {
                "baseURL": OVA_HTTP_BASE_URL,
	            "streams": [
                    { "file": OVA_HTTP_SHOW_STREAM_FILE_FLV, "duration":"00:00:20" },
                    { "file": OVA_HTTP_SHOW_STREAM_FILE, "duration":"00:00:20" },
               ]
            },

            "ads": {
              "servers": [
                   {
                      "type": "OpenX",
                      "apiAddress": OVA_OPENX_API
                   }
              ],

              "schedule": [
                  {
                    "zone": "15",
                    "position": "pre-roll"
                  }
              ]
            },

            "debug": {
              "levels": OVA_OAS_DEBUG
            }
        }
    }
});
</script>
<p>
The configuration for this example is:
</p>
<div class="codebox">
<pre>
<code class="javascript">
flowplayer("a.example", "<script type="text/javascript">document.write(FP_SWF)</script>", {
    plugins: {
        rtmp: {
            url: "<script type="text/javascript">document.write(FP_RTMP_SWF)</script>"
        },
        rtmpInstream: {
            url: "<script type="text/javascript">document.write(FP_RTMP_SWF)</script>"
        },
        controls: {
            autoHide: "always"
        },

        ova: {
            url: "<script type="text/javascript">document.write(OVA_OAS_URL)</script>",

            "shows": {
                "baseURL": "<script type="text/javascript">document.write(OVA_HTTP_BASE_URL)</script>",
                "streams": [
                    { "file":"<script type="text/javascript">document.write(OVA_HTTP_SHOW_STREAM_FILE_FLV)</script>", "duration":"00:00:20" },
                    { "file":"<script type="text/javascript">document.write(OVA_HTTP_SHOW_STREAM_FILE)</script>", "duration":"00:00:20" }                    
                ]
            },

            "ads": {
                "servers": [
                    {
                        "type": "OpenX",
                        "apiAddress": "<script type="text/javascript">document.write(OVA_OPENX_API)</script>"
                    }
                ],
                "schedule": [
                   {
                     "zone": "15",
                     "position": "pre-roll"
                   }
                ]
            },

            "debug": {
                "levels": "<script type="text/javascript">document.write(OVA_OAS_DEBUG)</script>"
            }
        }
    }
});
</code>
</pre>
</div>
</body>
</html>
