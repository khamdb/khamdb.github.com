<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<title>Example 4 - A pre-roll, 2 show streams with post-roll ads after each</title>
<script type="text/javascript" src="../../../dist/js/jquery-1.3.1.js"></script>
</head>
<body>
<script type="text/javascript" src="../../../dist/js/flowplayer.min.js"></script>
<script type="text/javascript" src="../../../dist/js/ova-examples.js"></script>
<style type="text/css">
<!--
  @import url(../../../dist/css/global.css);
-->
</style>
<h2>Example 4 - A pre-roll, 2 show streams with post-roll ads after each</h2>
<p class="example">
2 shows streams, sequenced to play one after each other, restricted to 15 secs each in duration,
with a pre-roll ad before the first stream followed by a post-roll after each stream. Auto play
is set to true so the stream starts up automatically and "playOnce" is set to true so ads will 
only play once for the streams.
</p>
<a class="example"></a>

<script type="text/javascript">
flowplayer("a.example", FP_SWF, {
    plugins: {
        rtmp: {
            url: FP_RTMP_SWF
        },
        controls: {
            autoHide: "always"
        },

        ova: {
            "url": OVA_OAS_URL,

            "playOnce": true,
            "autoPlay": true,       

            "shows": {
            "baseURL": OVA_RTMP_BASE_URL,
              "streams": [
                    { "file": OVA_RTMP_SHOW_STREAM_FILE, "duration":"00:00:15" },
                    { "file": OVA_RTMP_SHOW_STREAM_FILE, "duration":"00:00:15" }
               ]
            },

            "ads": {
                "servers": [
                    {
                       "type": "OpenX",
                       "apiAddress": OVA_OPENX_API
                    }
                ],

              "schedule": [
                  {
                    "zone": "1",
                      "position": "pre-roll",
                      "applyToParts": [ 0 ]
                  },
                  {
                    "zone": "1",
                      "position": "post-roll"
                  }
              ]
            },

            "debug": {
              "levels": OVA_OAS_DEBUG
            }
        }
    }
});
</script>
<p>
The configuration for this example is:
</p>
<div class="codebox">
<pre>
<code class="javascript">
flowplayer("a.example", "<script type="text/javascript">document.write(FP_SWF)</script>", {
    plugins: {
        rtmp: {
            url: "<script type="text/javascript">document.write(FP_RTMP_SWF)</script>"
        },
        controls: {
            autoHide: "always"
        },

        ova: {
            url: "<script type="text/javascript">document.write(OVA_OAS_URL)</script>",

            "playOnce": true,
            "autoPlay": true,       

            "shows": {
                "baseURL": "<script type="text/javascript">document.write(OVA_RTMP_BASE_URL)</script>",
                "streams": [
                    { "file":"<script type="text/javascript">document.write(OVA_RTMP_SHOW_STREAM_FILE)</script>", "duration":"00:00:15" },
                    { "file":"<script type="text/javascript">document.write(OVA_RTMP_SHOW_STREAM_FILE)</script>", "duration":"00:00:15" }
                ]
            },

            "ads": {
                "servers": [
                    {
                       "type": "OpenX",
                       "apiAddress": "<script type="text/javascript">document.write(OVA_OPENX_API)</script>"
                    }
                ], 
                "schedule": [
                    {
                        "zone": "1",
                        "position": "pre-roll",
                        "applyToParts": [ 0 ]
                    },
                    {
                        "zone": "1",
                        "position": "post-roll"
                    }
                ]
             },

             "debug": {
                "levels": "<script type="text/javascript">document.write(OVA_OAS_DEBUG)</script>"
             }
         }
     }
});
</code>
</pre>
</div>
</body>
</html>
